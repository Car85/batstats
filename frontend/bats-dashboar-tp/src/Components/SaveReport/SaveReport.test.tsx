import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import SaveReport from './SaveReport';
import { v4 as uuidv4 } from 'uuid';
import { describe, expect, test} from 'vitest';


describe('SaveReport Component', () => {
    const mockReport: Report = {
        id: uuidv4().toString(),
        name: 'Monthly Sales Report',
        type: 'PDF',
        configuration: '{"pivotState":{"data":[["Ingresos Brutos ($)","Salario Bruto (€)","Coste Empresa (€)","Beneficio Neto Empresa (€)","IS Total (€)","Dividendos Brutos (€)","Retención Dividendos (€)","Sueldo Neto (€)","Dividendos Netos (€)","Neto Final (€)"],["75000","0","0.0","57024.79338842976","14256.19834710744","42768.59504132232","8126.03305785124","0.0","34642.56198347108","34642.56198347108"],["75000","20000","26200.0","30824.79338842976","7706.19834710744","23118.595041322318","4392.53305785124","14730.0","18726.061983471078","33456.06198347108"],["75000","40000","52400.0","4624.79338842976","1156.19834710744","3468.59504132232","659.0330578512408","29460.0","2809.561983471079","32269.561983471078"],["75000","50000","65500.0","-8475.20661157024","0.0","0.0","0.0","36825.0","0.0","36825.0"],["75000","60000","78600.0","-21575.20661157024","0.0","0.0","0.0","44190.0","0.0","44190.0"],["75000","80000","104800.0","-47775.20661157024","0.0","0.0","0.0","58920.0","0.0","58920.0"],["80000","0","0.0","60826.44628099174","15206.611570247935","45619.8347107438","8667.768595041323","0.0","36952.06611570248","36952.06611570248"],["80000","20000","26200.0","34626.44628099174","8656.611570247935","25969.834710743802","4934.268595041322","14730.0","21035.56611570248","35765.56611570248"],["80000","40000","52400.0","8426.446280991739","2106.6115702479347","6319.834710743804","1200.7685950413227","29460.0","5119.0661157024815","34579.06611570248"],["80000","50000","65500.0","-4673.553719008261","0.0","0.0","0.0","36825.0","0.0","36825.0"],["80000","60000","78600.0","-17773.55371900826","0.0","0.0","0.0","44190.0","0.0","44190.0"],["80000","80000","104800.0","-43973.55371900826","0.0","0.0","0.0","58920.0","0.0","58920.0"],["85000","0","0.0","64628.099173553725","16157.024793388431","48471.07438016529","9209.504132231406","0.0","39261.57024793389","39261.57024793389"],["85000","20000","26200.0","38428.099173553725","9607.024793388431","28821.074380165293","5476.0041322314055","14730.0","23345.070247933887","38075.07024793389"],["85000","40000","52400.0","12228.099173553725","3057.024793388431","9171.074380165293","1742.5041322314057","29460.0","7428.570247933888","36888.57024793389"],["85000","50000","65500.0","-871.9008264462755","0.0","0.0","0.0","36825.0","0.0","36825.0"],["85000","60000","78600.0","-13971.900826446275","0.0","0.0","0.0","44190.0","0.0","44190.0"],["85000","80000","104800.0","-40171.900826446275","0.0","0.0","0.0","58920.0","0.0","58920.0"],["95000","0","0.0","72231.4049586777","18057.851239669424","54173.55371900827","10292.97520661157","0.0","43880.5785123967","43880.5785123967"],["95000","20000","26200.0","46031.4049586777","11507.851239669424","34523.55371900827","6559.475206611571","14730.0","27964.0785123967","42694.0785123967"],["95000","40000","52400.0","19831.404958677696","4957.851239669424","14873.553719008272","2825.9752066115716","29460.0","12047.5785123967","41507.5785123967"],["95000","50000","65500.0","6731.404958677696","1682.851239669424","5048.553719008272","959.2252066115717","36825.0","4089.3285123967007","40914.3285123967"],["95000","60000","78600.0","-6368.595041322304","0.0","0.0","0.0","44190.0","0.0","44190.0"],["95000","80000","104800.0","-32568.595041322304","0.0","0.0","0.0","58920.0","0.0","58920.0"],["105000","0","0.0","79834.71074380167","19958.677685950417","59876.03305785125","11376.446280991739","0.0","48499.58677685951","48499.58677685951"],["105000","20000","26200.0","53634.71074380167","13408.677685950417","40226.03305785125","7642.946280991738","14730.0","32583.086776859513","47313.08677685951"],["105000","40000","52400.0","27434.71074380167","6858.677685950417","20576.03305785125","3909.4462809917377","29460.0","16666.586776859513","46126.58677685951"],["105000","50000","65500.0","14334.710743801668","3583.677685950417","10751.033057851251","2042.6962809917377","36825.0","8708.336776859513","45533.33677685951"],["105000","60000","78600.0","1234.7107438016683","308.6776859504171","926.0330578512512","175.94628099173772","44190.0","750.0867768595135","44940.08677685951"],["105000","80000","104800.0","-24965.28925619833","0.0","0.0","0.0","58920.0","0.0","58920.0"],["150000","0","0.0","114049.58677685952","28512.39669421488","85537.19008264464","16252.06611570248","0.0","69285.12396694216","69285.12396694216"],["150000","20000","26200.0","87849.58677685952","21962.39669421488","65887.19008264464","12518.56611570248","14730.0","53368.623966942156","68098.62396694216"],["150000","40000","52400.0","61649.58677685952","15412.39669421488","46237.190082644636","8785.06611570248","29460.0","37452.123966942156","66912.12396694216"],["150000","50000","65500.0","48549.58677685952","12137.39669421488","36412.190082644636","6918.316115702481","36825.0","29493.873966942156","66318.87396694216"],["150000","60000","78600.0","35449.58677685952","8862.39669421488","26587.19008264464","5051.5661157024815","44190.0","21535.62396694216","65725.62396694216"],["150000","80000","104800.0","9249.58677685952","2312.39669421488","6937.19008264464","1318.0661157024815","58920.0","5619.123966942158","64539.123966942156"],[""]],"renderers":{},"aggregators":{},"cols":["Ingresos Brutos ($)"],"rows":[],"vals":["Dividendos Brutos (€)"],"aggregatorName":"List Unique Values","sorters":{},"valueFilter":{},"rowOrder":"key_a_to_z","colOrder":"key_a_to_z","derivedAttributes":{},"tableOptions":{},"rendererName":"Line Chart","hiddenAttributes":[],"hiddenFromAggregators":[],"hiddenFromDragDrop":[],"unusedOrientationCutoff":85,"menuLimit":500},"boxPlotState":{},"timestamp":"2024-12-19T11:41:38.692Z"}',
        createdAt: new Date().toISOString()
    };
})